# RecurrencePicker Component - Visual Examples

## Component Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Recurrence Pattern                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚ â”‚ â”‚ Frequency           â”‚ â”‚ Every               â”‚         â”‚ â”‚
â”‚ â”‚ â”‚ â–¼ Weekly            â”‚ â”‚ [1]                 â”‚         â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚ â”‚                                                           â”‚ â”‚
â”‚ â”‚ Repeat on                                                 â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”             â”‚ â”‚
â”‚ â”‚ â”‚ Mo â”‚â”‚ Tu â”‚â”‚ We â”‚â”‚ Th â”‚â”‚ Fr â”‚â”‚ Sa â”‚â”‚ Su â”‚             â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ”µ â”‚â”‚    â”‚â”‚ ğŸ”µ â”‚â”‚    â”‚â”‚ ğŸ”µ â”‚â”‚    â”‚â”‚    â”‚             â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜             â”‚ â”‚
â”‚ â”‚                                                           â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚ â”‚
â”‚ â”‚ â”‚ Ends                â”‚                                  â”‚ â”‚
â”‚ â”‚ â”‚ â–¼ After             â”‚                                  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚ â”‚
â”‚ â”‚                                                           â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚ â”‚
â”‚ â”‚ â”‚ Number of occurrenc â”‚                                  â”‚ â”‚
â”‚ â”‚ â”‚ [10]                â”‚                                  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚ â”‚
â”‚ â”‚                                                           â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ“… Repeats weekly on Mon, Wed, Fri, 10 times        â”‚â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Example Configurations

### Example 1: Weekly Team Meeting

**User Selections:**

- Frequency: Weekly
- Every: 1
- Repeat on: Mon, Wed, Fri (selected)
- Ends: After
- Number of occurrences: 10

**Generated RRULE:**

```
FREQ=WEEKLY;BYDAY=MO,WE,FR;COUNT=10
```

**Human Description:**

```
Repeats weekly on Mon, Wed, Fri, 10 times
```

---

### Example 2: Monthly All-Hands

**User Selections:**

- Frequency: Monthly
- Every: 1
- Ends: Never

**Generated RRULE:**

```
FREQ=MONTHLY
```

**Human Description:**

```
Repeats monthly
```

---

### Example 3: Bi-Weekly Language Class

**User Selections:**

- Frequency: Weekly
- Every: 2
- Repeat on: Sat, Sun (selected)
- Ends: On date
- End date: 2025-12-31

**Generated RRULE:**

```
FREQ=WEEKLY;INTERVAL=2;BYDAY=SA,SU;UNTIL=20251231
```

**Human Description:**

```
Repeats every 2 weeks on Sat, Sun, until 12/31/2025
```

---

### Example 4: Daily Stand-up (Weekdays Only)

**User Selections:**

- Frequency: Weekly
- Every: 1
- Repeat on: Mon, Tue, Wed, Thu, Fri (all selected)
- Ends: Never

**Generated RRULE:**

```
FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR
```

**Human Description:**

```
Repeats weekly on Mon, Tue, Wed, Thu, Fri
```

---

### Example 5: Quarterly Review

**User Selections:**

- Frequency: Monthly
- Every: 3
- Ends: After
- Number of occurrences: 4

**Generated RRULE:**

```
FREQ=MONTHLY;INTERVAL=3;COUNT=4
```

**Human Description:**

```
Repeats every 3 months, 4 times
```

---

## UI States

### Default State (Weekly, No end)

```
Frequency: [Weekly  â–¼]    Every: [1]
Repeat on: [ Mo ][ Tu ][ We ][ Th ][ Fr ][ Sa ][ Su ]
Ends: [Never  â–¼]
```

### Selected Days (Visual Indicator)

```
Unselected: â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     Selected:  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Mo   â”‚                â”‚   Mo   â”‚
            â”‚        â”‚                â”‚  âœ“     â”‚  (blue background)
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### End Type: After

```
Ends: [After  â–¼]
Number of occurrences: [10]
```

### End Type: On Date

```
Ends: [On date  â–¼]
End date: [ğŸ“… 2025-12-31]
```

### Disabled State

```
All inputs grayed out, no hover effects
Buttons not clickable
Shows disabled cursor
```

## Translation Examples (UK)

### Frequency Options

- Daily â†’ "Ğ©Ğ¾Ğ´Ğ½Ñ"
- Weekly â†’ "Ğ©Ğ¾Ñ‚Ğ¸Ğ¶Ğ½Ñ"
- Monthly â†’ "Ğ©Ğ¾Ğ¼Ñ–ÑÑÑ†Ñ"
- Yearly â†’ "Ğ©Ğ¾Ñ€Ğ¾ĞºÑƒ"

### Days of Week

- Mon â†’ "ĞŸĞ½"
- Tue â†’ "Ğ’Ñ‚"
- Wed â†’ "Ğ¡Ñ€"
- Thu â†’ "Ğ§Ñ‚"
- Fri â†’ "ĞŸÑ‚"
- Sat â†’ "Ğ¡Ğ±"
- Sun â†’ "ĞĞ´"

### End Conditions

- Never â†’ "ĞÑ–ĞºĞ¾Ğ»Ğ¸"
- After â†’ "ĞŸÑ–ÑĞ»Ñ"
- On date â†’ "Ğ”Ğ¾ Ğ´Ğ°Ñ‚Ğ¸"

### Description Examples (Ukrainian)

```
"ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ”Ñ‚ÑŒÑÑ Ñ‰Ğ¾Ñ‚Ğ¸Ğ¶Ğ½Ñ Ñƒ ĞŸĞ½, Ğ¡Ñ€, ĞŸÑ‚, 10 Ñ€Ğ°Ğ·Ñ–Ğ²"
"ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ”Ñ‚ÑŒÑÑ ĞºĞ¾Ğ¶Ğ½Ñ– 2 Ñ‚Ğ¸Ğ¶Ğ½Ñ– Ñƒ Ğ¡Ğ±, ĞĞ´, Ğ´Ğ¾ 31.12.2025"
"ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ”Ñ‚ÑŒÑÑ Ñ‰Ğ¾Ğ¼Ñ–ÑÑÑ†Ñ"
```

## Responsive Design

### Desktop (> 640px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frequency          â”‚ â”‚ Every              â”‚
â”‚ â–¼ Weekly           â”‚ â”‚ [1]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Day buttons: 7 in a row
```

### Mobile (< 640px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frequency                         â”‚
â”‚ â–¼ Weekly                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Every                             â”‚
â”‚ [1]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Day buttons: Wrap to multiple rows
```

## Accessibility Features

1. **Keyboard Navigation**:

   - Tab through all inputs
   - Space/Enter to toggle day buttons
   - Arrow keys in dropdowns

2. **Screen Readers**:

   - Proper labels for all inputs
   - Button text (not just icons)
   - Description text announces changes

3. **Visual Indicators**:

   - Not color-only (border + background + text)
   - Clear focus states
   - High contrast text

4. **Form Integration**:
   - Disabled state propagates
   - Error states can be shown
   - Value updates parent form

## Performance Characteristics

- **Initial Render**: < 10ms (lightweight component)
- **State Updates**: Immediate (React batching)
- **RRULE Parsing**: < 1ms (simple regex)
- **RRULE Building**: < 1ms (string concatenation)
- **Re-renders**: Only on user interaction (optimized with useCallback/useEffect)

## Common Use Cases

1. **Weekly Classes**: Weekly on specific days, for N weeks
2. **Monthly Meetings**: First/last day of month (use MONTHLY)
3. **Bi-weekly Events**: Every 2 weeks on specific days
4. **Daily Reminders**: Daily for N days
5. **Seasonal Events**: Yearly on same date
6. **Limited Series**: After N occurrences
7. **Summer Program**: Until specific end date

## Integration with EventForm

The RecurrencePicker is shown only when the "This is a recurring event" checkbox is checked:

```tsx
<Checkbox
  label="This is a recurring event"
  {...getFieldProps("is_recurring")}
/>;

{
  values.is_recurring && (
    <div>
      <label>Recurrence Pattern</label>
      <RecurrencePicker
        disabled={isBusy}
        onChange={(value) => {
          setValues((prev) => ({
            ...prev,
            recurrence_rule: value,
          }));
        }}
        value={values.recurrence_rule}
      />
    </div>
  );
}
```

## Data Flow

```
User Interaction
      â†“
   Component State Update (useState)
      â†“
   buildRRule() function
      â†“
   RRULE string generated
      â†“
   onChange() callback
      â†“
   setValues() in parent form
      â†“
   Form values.recurrence_rule updated
      â†“
   Saved to database on form submit
```

## Error Handling

1. **Invalid RRULE on Load**: Falls back to defaults
2. **Missing Required Fields**: Skips optional clauses
3. **Invalid Date Format**: Uses empty string
4. **Negative Intervals**: Enforces minimum of 1
5. **Parsing Errors**: Logs warning, uses defaults
